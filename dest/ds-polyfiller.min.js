var Polyfiller={count:0,listener:{ready:[],error:[]},parentNode:document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],mapping:{},map:function(t){return this.mapping=t,this},test:function(t,e){if("function"==typeof t&&(t=t()),t===!0)return this;var n,r=typeof e;return n="function"==r?e():this.load(e),n&&"function"==typeof n.then?(this.count++,n.then(function(t){return this.count--,t}.bind(this)).then(this.onLoaded.bind(this))["catch"](this.onError.bind(this))):(console.warn("calling not promise like"),this.onLoaded()),this},ready:function(t){return this.listener.ready.push(t),this.onLoaded(),this},"catch":function(t){return this.listener.error.push(t),this},onLoaded:function(){this.count||this.listener.ready.forEach(function(t){t()})},onError:function(t){this.listener.error.forEach(function(e){e(t)})},load:function(t,e){var n=this.parentNode;return this.mapping.hasOwnProperty(t)&&(t=this.mapping[t]),new Promise(function(r,i){var o=document.createElement(e?e:"script");"script"===e?o.src=t:(o.rel="stylesheet",o.type="text/css",o.href=t),o.onload=o.onreadystatechange=function(t){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||r(t)},o.onerror=i,n.appendChild(o)})}};
//# sourceMappingURL=ds-polyfiller.min.js.map
